# 比特币地址

在比特币中，没有用户账户，不需要也不会在任何地方存储个人数据（比如姓名，护照号码或者 SSN）。但是，我们总要有某种途径识别出你是交易输出的所有者(即比特币的拥有者)。这就是一个真实的比特币地址：1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa。这是史上第一个比特币地址，据说属于中本聪。比特币地址是完全公开的，如果你想要给某个人发送币，只需要知道他的地址就可以了。

## 钱包的实现

钱包存储的是公钥和私钥,定义钱包非常简单,使用如下结构体就能定义一个钱包了

```go
//钱包结构体包含公私钥对
type Wallet struct{
	//私钥
	PrivateKey ecdsa.PrivateKey
	//公钥(该属性可以从私钥中获取)
	PublicKey []byte 
}
```

## 实现公私钥对

实现公私钥对非常直观：ECDSA 基于椭圆曲线，所以我们需要一个椭圆曲线。接下来，使用椭圆生成一个私钥，然后再从私钥生成一个公钥。有一点需要注意：在基于椭圆曲线的算法中，公钥是曲线上的点。因此，公钥是 X，Y 坐标的组合。在比特币中，这些坐标会被连接起来，然后形成一个公钥。

```go
//构造钱包
func NewWallet() *Wallet{
	private,public := newPrivAndPub()
	return &Wallet{private,public}
}
//生成公私钥对
func newPrivAndPub()(ecdsa.PrivateKey,[]byte){
	//声明p-256曲线
	p256curve := elliptic.P256()
	//使用p256曲线生成私钥
	privKey,err := ecdsa.GenerateKey(p256curve,rand.Reader)
	if err != nil {
		log.Panic(err)
	}
	//在私钥获取公钥
	pubKey := append(privKey.PublicKey.X.Bytes(),privKey.PublicKey.Y.Bytes()...)
	return *privKey,pubKey
}
```